# Snapshot report for `test/dist.test.js`

The actual snapshot is saved in `dist.test.js.snap`.

Generated by [AVA](https://ava.li).

## 
    dist converts an export default literal declaration to a module.exports
    assignment
  

> Snapshot 1

    {
      browser: [
        '/fakePath/exportDefaultLiteral.browser.js',
        `var exportDefaultLiteral = 'Hello World';␊
        ␊
        export default exportDefaultLiteral;␊
        `,
      ],
      cjs: [
        '/fakePath/exportDefaultLiteral.js',
        `'use strict';␊
        ␊
        var exportDefaultLiteral = 'Hello World';␊
        ␊
        module.exports = exportDefaultLiteral;␊
        `,
      ],
    }

## dist bundles imports with module into dist files

> Snapshot 1

    {
      cjs: [
        '/fakePath/exportDefaultFunctionWithImports.js',
        `'use strict';␊
        ␊
        const preserveCamelCase = input => {␊
        	let isLastCharLower = false;␊
        	let isLastCharUpper = false;␊
        	let isLastLastCharUpper = false;␊
        ␊
        	for (let i = 0; i < input.length; i++) {␊
        		const c = input[i];␊
        ␊
        		if (isLastCharLower && /[a-zA-Z]/.test(c) && c.toUpperCase() === c) {␊
        			input = input.slice(0, i) + '-' + input.slice(i);␊
        			isLastCharLower = false;␊
        			isLastLastCharUpper = isLastCharUpper;␊
        			isLastCharUpper = true;␊
        			i++;␊
        		} else if (isLastCharUpper && isLastLastCharUpper && /[a-zA-Z]/.test(c) && c.toLowerCase() === c) {␊
        			input = input.slice(0, i - 1) + '-' + input.slice(i - 1);␊
        			isLastLastCharUpper = isLastCharUpper;␊
        			isLastCharUpper = false;␊
        			isLastCharLower = true;␊
        		} else {␊
        			isLastCharLower = c.toLowerCase() === c;␊
        			isLastLastCharUpper = isLastCharUpper;␊
        			isLastCharUpper = c.toUpperCase() === c;␊
        		}␊
        	}␊
        ␊
        	return input;␊
        };␊
        ␊
        var camelcase = (input, options) => {␊
        	options = Object.assign({␊
        		pascalCase: false␊
        	}, options);␊
        ␊
        	const postProcess = x => options.pascalCase ? x.charAt(0).toUpperCase() + x.slice(1) : x;␊
        ␊
        	if (Array.isArray(input)) {␊
        		input = input.map(x => x.trim())␊
        			.filter(x => x.length)␊
        			.join('-');␊
        	} else {␊
        		input = input.trim();␊
        	}␊
        ␊
        	if (input.length === 0) {␊
        		return '';␊
        	}␊
        ␊
        	if (input.length === 1) {␊
        		return options.pascalCase ? input.toUpperCase() : input.toLowerCase();␊
        	}␊
        ␊
        	if (/^[a-z\\d]+$/.test(input)) {␊
        		return postProcess(input);␊
        	}␊
        ␊
        	const hasUpperCase = input !== input.toLowerCase();␊
        ␊
        	if (hasUpperCase) {␊
        		input = preserveCamelCase(input);␊
        	}␊
        ␊
        	input = input␊
        		.replace(/^[_.\\- ]+/, '')␊
        		.toLowerCase()␊
        		.replace(/[_.\\- ]+(\\w|$)/g, (m, p1) => p1.toUpperCase());␊
        ␊
        	return postProcess(input);␊
        };␊
        ␊
        function npmShortName (name = '') {␊
          const parts = name.split('/');␊
          return parts.length ? camelcase(parts[parts.length - 1]) : ''␊
        }␊
        ␊
        var message = 'Hello World';␊
        ␊
        function greeting () {␊
          return npmShortName(message)␊
        }␊
        ␊
        module.exports = greeting;␊
        `,
      ],
      esm: [
        '/fakePath/exportDefaultFunctionWithImports.m.js',
        `const preserveCamelCase = input => {␊
        	let isLastCharLower = false;␊
        	let isLastCharUpper = false;␊
        	let isLastLastCharUpper = false;␊
        ␊
        	for (let i = 0; i < input.length; i++) {␊
        		const c = input[i];␊
        ␊
        		if (isLastCharLower && /[a-zA-Z]/.test(c) && c.toUpperCase() === c) {␊
        			input = input.slice(0, i) + '-' + input.slice(i);␊
        			isLastCharLower = false;␊
        			isLastLastCharUpper = isLastCharUpper;␊
        			isLastCharUpper = true;␊
        			i++;␊
        		} else if (isLastCharUpper && isLastLastCharUpper && /[a-zA-Z]/.test(c) && c.toLowerCase() === c) {␊
        			input = input.slice(0, i - 1) + '-' + input.slice(i - 1);␊
        			isLastLastCharUpper = isLastCharUpper;␊
        			isLastCharUpper = false;␊
        			isLastCharLower = true;␊
        		} else {␊
        			isLastCharLower = c.toLowerCase() === c;␊
        			isLastLastCharUpper = isLastCharUpper;␊
        			isLastCharUpper = c.toUpperCase() === c;␊
        		}␊
        	}␊
        ␊
        	return input;␊
        };␊
        ␊
        var camelcase = (input, options) => {␊
        	options = Object.assign({␊
        		pascalCase: false␊
        	}, options);␊
        ␊
        	const postProcess = x => options.pascalCase ? x.charAt(0).toUpperCase() + x.slice(1) : x;␊
        ␊
        	if (Array.isArray(input)) {␊
        		input = input.map(x => x.trim())␊
        			.filter(x => x.length)␊
        			.join('-');␊
        	} else {␊
        		input = input.trim();␊
        	}␊
        ␊
        	if (input.length === 0) {␊
        		return '';␊
        	}␊
        ␊
        	if (input.length === 1) {␊
        		return options.pascalCase ? input.toUpperCase() : input.toLowerCase();␊
        	}␊
        ␊
        	if (/^[a-z\\d]+$/.test(input)) {␊
        		return postProcess(input);␊
        	}␊
        ␊
        	const hasUpperCase = input !== input.toLowerCase();␊
        ␊
        	if (hasUpperCase) {␊
        		input = preserveCamelCase(input);␊
        	}␊
        ␊
        	input = input␊
        		.replace(/^[_.\\- ]+/, '')␊
        		.toLowerCase()␊
        		.replace(/[_.\\- ]+(\\w|$)/g, (m, p1) => p1.toUpperCase());␊
        ␊
        	return postProcess(input);␊
        };␊
        ␊
        function npmShortName (name = '') {␊
          const parts = name.split('/');␊
          return parts.length ? camelcase(parts[parts.length - 1]) : ''␊
        }␊
        ␊
        var message = 'Hello World';␊
        ␊
        function greeting () {␊
          return npmShortName(message)␊
        }␊
        ␊
        export default greeting;␊
        `,
      ],
    }

## dist converts an export default function declaration to a module.exports assignment

> Snapshot 1

    {
      cjs: [
        '/fakePath/some-function.js',
        `'use strict';␊
        ␊
        function greeting () {␊
          return 'Hello World'␊
        }␊
        ␊
        module.exports = greeting;␊
        `,
      ],
    }

## dist converts an export default new expresion declaration to a module.exports assignment

> Snapshot 1

    {
      cjs: [
        '/fakePath/exportDefaultNewExpression.js',
        `'use strict';␊
        ␊
        class SomeClass {}␊
        ␊
        var exportDefaultNewExpression = new SomeClass();␊
        ␊
        module.exports = exportDefaultNewExpression;␊
        `,
      ],
    }

## hashbang is preserved

> Snapshot 1

    {
      cjs: [
        '/fakePath/cli.js',
        `#!/usr/bin/env node␊
        'use strict';␊
        ␊
        console.log('yo yo yo');␊
        `,
      ],
    }

## specified import gets bundled with module into dist files

> Snapshot 1

    {
      cjs: [
        '/fakePath/exportObjectWithImports.js',
        `'use strict';␊
        ␊
        Object.defineProperty(exports, '__esModule', { value: true });␊
        ␊
        function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }␊
        ␊
        var camelCase = _interopDefault(require('camelcase'));␊
        var promiseComplete = _interopDefault(require('@ianwalter/promise-complete'));␊
        ␊
        function npmShortName() {␊
          var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';␊
          var parts = name.split('/');␊
          return parts.length ? camelCase(parts[parts.length - 1]) : '';␊
        }␊
        ␊
        function greeting() {␊
          return 'Hello World';␊
        }␊
        ␊
        exports.promiseComplete = promiseComplete;␊
        exports.npmShortName = npmShortName;␊
        exports.greeting = greeting;␊
        `,
      ],
    }

## all imports get bundled with module into dist files

> Snapshot 1

    {
      cjs: [
        '/fakePath/exportDefaultFunctionWithImports.js',
        `'use strict';␊
        ␊
        const preserveCamelCase = input => {␊
        	let isLastCharLower = false;␊
        	let isLastCharUpper = false;␊
        	let isLastLastCharUpper = false;␊
        ␊
        	for (let i = 0; i < input.length; i++) {␊
        		const c = input[i];␊
        ␊
        		if (isLastCharLower && /[a-zA-Z]/.test(c) && c.toUpperCase() === c) {␊
        			input = input.slice(0, i) + '-' + input.slice(i);␊
        			isLastCharLower = false;␊
        			isLastLastCharUpper = isLastCharUpper;␊
        			isLastCharUpper = true;␊
        			i++;␊
        		} else if (isLastCharUpper && isLastLastCharUpper && /[a-zA-Z]/.test(c) && c.toLowerCase() === c) {␊
        			input = input.slice(0, i - 1) + '-' + input.slice(i - 1);␊
        			isLastLastCharUpper = isLastCharUpper;␊
        			isLastCharUpper = false;␊
        			isLastCharLower = true;␊
        		} else {␊
        			isLastCharLower = c.toLowerCase() === c;␊
        			isLastLastCharUpper = isLastCharUpper;␊
        			isLastCharUpper = c.toUpperCase() === c;␊
        		}␊
        	}␊
        ␊
        	return input;␊
        };␊
        ␊
        var camelcase = (input, options) => {␊
        	options = Object.assign({␊
        		pascalCase: false␊
        	}, options);␊
        ␊
        	const postProcess = x => options.pascalCase ? x.charAt(0).toUpperCase() + x.slice(1) : x;␊
        ␊
        	if (Array.isArray(input)) {␊
        		input = input.map(x => x.trim())␊
        			.filter(x => x.length)␊
        			.join('-');␊
        	} else {␊
        		input = input.trim();␊
        	}␊
        ␊
        	if (input.length === 0) {␊
        		return '';␊
        	}␊
        ␊
        	if (input.length === 1) {␊
        		return options.pascalCase ? input.toUpperCase() : input.toLowerCase();␊
        	}␊
        ␊
        	if (/^[a-z\\d]+$/.test(input)) {␊
        		return postProcess(input);␊
        	}␊
        ␊
        	const hasUpperCase = input !== input.toLowerCase();␊
        ␊
        	if (hasUpperCase) {␊
        		input = preserveCamelCase(input);␊
        	}␊
        ␊
        	input = input␊
        		.replace(/^[_.\\- ]+/, '')␊
        		.toLowerCase()␊
        		.replace(/[_.\\- ]+(\\w|$)/g, (m, p1) => p1.toUpperCase());␊
        ␊
        	return postProcess(input);␊
        };␊
        ␊
        function npmShortName (name = '') {␊
          const parts = name.split('/');␊
          return parts.length ? camelcase(parts[parts.length - 1]) : ''␊
        }␊
        ␊
        var message = 'Hello World';␊
        ␊
        function greeting () {␊
          return npmShortName(message)␊
        }␊
        ␊
        module.exports = greeting;␊
        `,
      ],
      esm: [
        '/fakePath/exportDefaultFunctionWithImports.m.js',
        `const preserveCamelCase = input => {␊
        	let isLastCharLower = false;␊
        	let isLastCharUpper = false;␊
        	let isLastLastCharUpper = false;␊
        ␊
        	for (let i = 0; i < input.length; i++) {␊
        		const c = input[i];␊
        ␊
        		if (isLastCharLower && /[a-zA-Z]/.test(c) && c.toUpperCase() === c) {␊
        			input = input.slice(0, i) + '-' + input.slice(i);␊
        			isLastCharLower = false;␊
        			isLastLastCharUpper = isLastCharUpper;␊
        			isLastCharUpper = true;␊
        			i++;␊
        		} else if (isLastCharUpper && isLastLastCharUpper && /[a-zA-Z]/.test(c) && c.toLowerCase() === c) {␊
        			input = input.slice(0, i - 1) + '-' + input.slice(i - 1);␊
        			isLastLastCharUpper = isLastCharUpper;␊
        			isLastCharUpper = false;␊
        			isLastCharLower = true;␊
        		} else {␊
        			isLastCharLower = c.toLowerCase() === c;␊
        			isLastLastCharUpper = isLastCharUpper;␊
        			isLastCharUpper = c.toUpperCase() === c;␊
        		}␊
        	}␊
        ␊
        	return input;␊
        };␊
        ␊
        var camelcase = (input, options) => {␊
        	options = Object.assign({␊
        		pascalCase: false␊
        	}, options);␊
        ␊
        	const postProcess = x => options.pascalCase ? x.charAt(0).toUpperCase() + x.slice(1) : x;␊
        ␊
        	if (Array.isArray(input)) {␊
        		input = input.map(x => x.trim())␊
        			.filter(x => x.length)␊
        			.join('-');␊
        	} else {␊
        		input = input.trim();␊
        	}␊
        ␊
        	if (input.length === 0) {␊
        		return '';␊
        	}␊
        ␊
        	if (input.length === 1) {␊
        		return options.pascalCase ? input.toUpperCase() : input.toLowerCase();␊
        	}␊
        ␊
        	if (/^[a-z\\d]+$/.test(input)) {␊
        		return postProcess(input);␊
        	}␊
        ␊
        	const hasUpperCase = input !== input.toLowerCase();␊
        ␊
        	if (hasUpperCase) {␊
        		input = preserveCamelCase(input);␊
        	}␊
        ␊
        	input = input␊
        		.replace(/^[_.\\- ]+/, '')␊
        		.toLowerCase()␊
        		.replace(/[_.\\- ]+(\\w|$)/g, (m, p1) => p1.toUpperCase());␊
        ␊
        	return postProcess(input);␊
        };␊
        ␊
        function npmShortName (name = '') {␊
          const parts = name.split('/');␊
          return parts.length ? camelcase(parts[parts.length - 1]) : ''␊
        }␊
        ␊
        var message = 'Hello World';␊
        ␊
        function greeting () {␊
          return npmShortName(message)␊
        }␊
        ␊
        export default greeting;␊
        `,
      ],
    }

## export default function converted to module.exports

> Snapshot 1

    {
      cjs: [
        '/fakePath/some-function.js',
        `'use strict';␊
        ␊
        function greeting () {␊
          return 'Hello World'␊
        }␊
        ␊
        module.exports = greeting;␊
        `,
      ],
    }

## export default literal converted to module.exports

> Snapshot 1

    {
      browser: [
        '/fakePath/exportDefaultLiteral.browser.js',
        `var exportDefaultLiteral = 'Hello World';␊
        ␊
        export default exportDefaultLiteral;␊
        `,
      ],
      cjs: [
        '/fakePath/exportDefaultLiteral.js',
        `'use strict';␊
        ␊
        var exportDefaultLiteral = 'Hello World';␊
        ␊
        module.exports = exportDefaultLiteral;␊
        `,
      ],
    }

## export default new expression converted to module.exports

> Snapshot 1

    {
      cjs: [
        '/fakePath/dist.js',
        `'use strict';␊
        ␊
        class SomeClass {}␊
        ␊
        var exportDefaultNewExpression = new SomeClass();␊
        ␊
        module.exports = exportDefaultNewExpression;␊
        `,
      ],
    }

## specified import gets bundled with module into dist file

> Snapshot 1

    {
      cjs: [
        '/fakePath/exportObjectWithImports.js',
        `'use strict';␊
        ␊
        Object.defineProperty(exports, '__esModule', { value: true });␊
        ␊
        function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }␊
        ␊
        var camelCase = _interopDefault(require('camelcase'));␊
        var promiseComplete = _interopDefault(require('@ianwalter/promise-complete'));␊
        ␊
        function npmShortName() {␊
          var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';␊
          var parts = name.split('/');␊
          return parts.length ? camelCase(parts[parts.length - 1]) : '';␊
        }␊
        ␊
        function greeting() {␊
          return 'Hello World';␊
        }␊
        ␊
        exports.promiseComplete = promiseComplete;␊
        exports.npmShortName = npmShortName;␊
        exports.greeting = greeting;␊
        `,
      ],
    }
